<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_80-ea) on Wed Jul 13 14:48:12 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MR_ByteArrayPool</title>
<meta name="date" content="2016-07-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MR_ByteArrayPool";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/MR_ByteArrayPool.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/mr/http/toolbox/MR_BasicNetwork.html" title="com.mr.http.toolbox中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../com/mr/http/toolbox/MR_CommonUtil.html" title="com.mr.http.toolbox中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/mr/http/toolbox/MR_ByteArrayPool.html" target="_top">框架</a></li>
<li><a href="MR_ByteArrayPool.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mr.http.toolbox</div>
<h2 title="类 MR_ByteArrayPool" class="title">类 MR_ByteArrayPool</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.mr.http.toolbox.MR_ByteArrayPool</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MR_ByteArrayPool</span>
extends java.lang.Object</pre>
<div class="block">ByteArrayPool is a source and repository of <code>byte[]</code> objects. Its purpose is to
 supply those buffers to consumers who need to use them for a short period of time and then
 dispose of them. Simply creating and disposing such buffers in the conventional manner can
 considerable heap churn and garbage collection delays on Android, which lacks good management of
 short-lived heap objects. It may be advantageous to trade off some memory in the form of a
 permanently allocated pool of buffers in order to gain heap performance improvements; that is
 what this class does.
 <p>
 A good candidate user for this class is something like an I/O system that uses large temporary
 <code>byte[]</code> buffers to copy data around. In these use cases, often the consumer wants
 the buffer to be a certain minimum size to ensure good performance (e.g. when copying data chunks
 off of a stream), but doesn't mind if the buffer is larger than the minimum. Taking this into
 account and also to maximize the odds of being able to reuse a recycled buffer, this class is
 free to return buffers larger than the requested size. The caller needs to be able to gracefully
 deal with getting buffers any size over the minimum.
 <p>
 If there is not a suitably-sized buffer in its recycling pool when a buffer is requested, this
 class will allocate a new buffer and return it.
 <p>
 This class has no special ownership of buffers it creates; the caller is free to take a buffer
 it receives from this pool, use it permanently, and never return it to the pool; additionally,
 it is not harmful to return to this pool a buffer that was allocated elsewhere, provided there
 are no other lingering references to it.
 <p>
 This class ensures that the total size of the buffers in its recycling pool never exceeds a
 certain byte limit. When a buffer is returned that would cause the pool to exceed the limit,
 least-recently-used buffers are disposed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/mr/http/toolbox/MR_ByteArrayPool.html#MR_ByteArrayPool(int)">MR_ByteArrayPool</a></strong>(int&nbsp;sizeLimit)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mr/http/toolbox/MR_ByteArrayPool.html#getBuf(int)">getBuf</a></strong>(int&nbsp;len)</code>
<div class="block">Returns a buffer from the pool if one is available in the requested size, or allocates a new
 one if a pooled one is not available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/mr/http/toolbox/MR_ByteArrayPool.html#returnBuf(byte[])">returnBuf</a></strong>(byte[]&nbsp;buf)</code>
<div class="block">Returns a buffer to the pool, throwing away old buffers if the pool would exceed its allotted
 size.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="MR_ByteArrayPool(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MR_ByteArrayPool</h4>
<pre>public&nbsp;MR_ByteArrayPool(int&nbsp;sizeLimit)</pre>
<dl><dt><span class="strong">参数:</span></dt><dd><code>sizeLimit</code> - the maximum size of the pool, in bytes</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getBuf(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuf</h4>
<pre>public&nbsp;byte[]&nbsp;getBuf(int&nbsp;len)</pre>
<div class="block">Returns a buffer from the pool if one is available in the requested size, or allocates a new
 one if a pooled one is not available.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>len</code> - the minimum size, in bytes, of the requested buffer. The returned buffer may be
        larger.</dd>
<dt><span class="strong">返回:</span></dt><dd>a byte[] buffer is always returned.</dd></dl>
</li>
</ul>
<a name="returnBuf(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>returnBuf</h4>
<pre>public&nbsp;void&nbsp;returnBuf(byte[]&nbsp;buf)</pre>
<div class="block">Returns a buffer to the pool, throwing away old buffers if the pool would exceed its allotted
 size.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>buf</code> - the buffer to return to the pool.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/MR_ByteArrayPool.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/mr/http/toolbox/MR_BasicNetwork.html" title="com.mr.http.toolbox中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../com/mr/http/toolbox/MR_CommonUtil.html" title="com.mr.http.toolbox中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/mr/http/toolbox/MR_ByteArrayPool.html" target="_top">框架</a></li>
<li><a href="MR_ByteArrayPool.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
